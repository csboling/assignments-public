\documentclass{article}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{mathtools}
\usepackage{xfrac}
\usepackage[lastexercise]{exercise}

\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\newcounter{Problem}
\newenvironment{Problem}{\begin{Exercise}[name={Problem},
                                          counter={Problem}]}
                        {\end{Exercise}}
\title{MATH 818 Homework \#5}
\date{December 3, 2014}
\author{Sam Boling}

\begin{document}

\begin{titlepage}
\maketitle

% TODO:
% -Show that $P = (x - a, y - b)$ is a maximal ideal and write down
%  the localization (A - P)^{-1} A.
% -Show that the subring generated by k, xy^n for all n \geq 0 is not Noetherian.
\end{titlepage}

\begin{Problem}
  Let $A$ be a commutative ring with 1 which is not the zero
  ring. Denote by $A^\ast$ the units of the ring $A$.
  \begin{enumerate}[(a)]
    \item{
      Suppose that $A$ contains a proper ideal $I$ with the property
      that $x$ is a unit of $A$ if any only if $x \notin I$, i.e.
      $A^\ast = A - I$. Prove that $I$ is a maximal ideal of $A$ and
      that, in fact, $I$ is the only maximal ideal of $A$.
    }
    \item{
      Let $P$ be a prime ideal of $A$ and denote $S = A - P$. Prove
      that $S$ is a multiplicative set of $A$ and that the
      localization $S^{-1}A$ of $A$ at $S$ is a local ring.
    }
    \item{
      Show that for every $(a, b) \in \mathbb{R}^2$, the ideal
      $P = (x - a, y - b)$ in the polynomial ring
      $\mathbb{R}[x, y]$ is a maximal ideal. Write down explicitly the
      localization $S^{-1} A$ where $A = \mathbb{R}[x, y]$,
      $S = A - P$ with $P = (x - a, y - b)$ as above.
    }
  \end{enumerate}
\end{Problem}

\begin{Answer}
  \begin{enumerate}[(a)]
    \item{
      Let $J$ be an ideal such that $I \subset J$ and
      $I \neq J$. Then $J - I$ is nonempty, so there exists an
      $x \in J$ such that $x \notin I$. But then
      $x \in A - I = A^\ast$, so $x$ is a unit, and therefore there
      exists some $y \in A$ such that $xy = 1$. But $J$ is an ideal,
      so if $x \in J$ then $xy \in J$ as well. Therefore $1 \in J$,
      whence $J = A$. Therefore $I$ is a maximal ideal.

      Let $M$ be a maximal ideal of $A$. Then $M \neq A$, so
      $1 \notin M$. Let $x \in M$. Then $x$ cannot be a unit of $A$,
      since if it were then we would have $y \in A$ such that $xy = 1$
      and thus $1 \in M$ since $xy \in M$ for all $y$. Therefore
      $x \in A - A^\ast = I$, so $M \subset I$. But since $M$ is
      maximal this means $M = I$.
    }
    \item{
      Let $P$ be a prime ideal of $A$ and let $S = A - P$. Let
      $x, y \in S$. Then $x, y \notin P$, so since $P$ is a prime
      ideal it must be that $xy \notin P$. Therefore $xy \in A - P =
      S$, so $S$ is a multiplicative set of $A$.

      Let $\sim$ denote the equivalence relation that defines
      $S^{-1} A = A \times S / \sim$, i.e.
      $$
      (a, s) \sim (a^\prime, s^\prime)
      \iff
      \exists t \in S, t(as^\prime - a^\prime s) = 0
      $$
      and denote $(a, s) \mod \sim$ by $\frac{a}{s}$.

      Let $(p, s) \in P \times S$, $(a, s^\prime) \in A \times S$.
      Then $\frac{p}{s} \frac{a}{s^\prime} = \frac{pa}{ss^\prime}$.
      Since $p \in P$ and $P$ is an ideal, $pa \in P$.
      Since $S$ is a multiplicative set, $s s^\prime \in S$. Therefore
      $\frac{pa}{ss^\prime} \in P \times S / \sim$, so
      $P \times S / \sim$ is an ideal of $S^{-1} A$.

      Let $(p, s) \in P \times S$. Suppose
      $\frac{p}{s}$ is a unit in $S^{-1} A$. Then there exists some
      $\frac{a}{s^\prime} \in S^{-1} A$ so that
      $\frac{pa}{ss^\prime} = 1$, or explicitly there exists $t \in S$
      such that
      $$
      t(pa - ss^\prime) = 0.
      $$
      Then $tpa = tss^\prime$. Since $p \in P$ and $P$ is an ideal,
      $tpa = tss^\prime \in P$. But $S$ is a multiplicative set,
      so since $t, s, s^\prime \in S$, $tss^\prime \in S$. This is a
      contradiction since $S = A - P$. Therefore $\frac{p}{s}$ is not a
      unit of $S^{-1} A$.

      Since $P \neq A$, $1 \notin P$, so $1 \in S$.
      Let $s \in S$. Then $1 \cdot (1 \cdot s - s \cdot 1) = 0$, so
       $$
       \frac{1}{1} = \frac{s}{s} = \frac{s}{1}\frac{1}{s}
       $$
      and thus $\frac{s}{1}$, $\frac{1}{s}$ are units for any $s \in
      S$. Then
      $
      \frac{s}{s^\prime} = \frac{s}{1}\frac{1}{s^\prime}
      $
      is a unit as well for any $s^\prime \in S$, so
      $(S \times S / \sim) \subset (S^{-1}A)^\ast$.

      Then since $P \times S / \sim = S^{-1} A - S \times S / \sim$,
      and since $P \times S / \sim \neq S^{-1} A$, the condition from
      part (a) is met and $S^{-1} A$ has a unique maximal ideal, namely
      $P \times S / \sim$.
    }
    \item{
    }
  \end{enumerate}
\end{Answer}

\pagebreak

\begin{Problem}
  Let $k$ be a field and let $A = k[x, y]$ be the ring of polynomials in
  two variables $x$ and $y$. We know that $A$ is a Noetherian ring which
  is a unique factorization domain.
  \begin{enumerate}[(a)]
    \item{
      Consider the subring $B$ of $A$ generated by the constants $k$
      and the monomials $xy^n$, for all $n \geq 0$. Show that $B$ is
      not a Noetherian ring.
    }
    \item{
      For $f(x, y) \in A$ show that $f(x, y)$ is irreducible if and
      only if the ideal $(f(x,y))$ is a prime ideal of $A$.
    }
    \item{
      Consider the subring $C$ of $A$ generated by the constants $k$
      and the monomials $x^2$, $x^3$ and $y$. Show that $C$ is not a
      unique factorization domain.
    }
  \end{enumerate}
\end{Problem}

\begin{Answer}
  \begin{enumerate}[(a)]
    \item{
      Consider the chain of ideals
      $$
      (x) \subset (x, xy) \subset (x, xy, xy^2) \subset \cdots
      $$
      and note that $xy^{m+1} = xy^m \cdot y \notin (x, xy, \dots, xy^m)$.
    }
    \item{
      \begin{itemize}
        \item[$\implies$]{
          Let $f(x,y)$ be irreducible and let $bc \in (f(x,y))$. Then
          $bc = a \cdot f(x,y)$ for some $a \in k[x,y]$.

          Since $k[x,y]$ is a unique factorization domain, we can
          write the unique factorization of these terms as
          \begin{align*}
            b &= u_b p_1 p_2 \cdots p_n, \\
            c &= u_c q_1 q_2 \cdots q_m, \\
            a &= u_a r_1 r_2 \cdots r_l
          \end{align*}
          where $u_a, u_b, u_c \in k[x,y]^\ast$ are units and
          $p_i, q_i, r_i \in k[x,y]$ are irreducible. Then we have
          $$
            u_b u_c p_1 p_2 \cdots p_n q_1 q_2 \cdots q_m
          = u_a r_1 r_2 \cdots r_l f(x,y),
          $$
          so by the definition of unique factorization we must have
          $l =  n + m - 1$ since $f(x,y)$ is irreducible.
          Suppose $b \notin f(x,y)$. Then $f(x,y)$ does not divide
          $b$, so $f(x,y) \neq p_i$ for any $i$. But then it must be
          that $f(x,y) = u q_j$ for some $j$ and some unit $u$, so
          $$
          c = u_c u^{-1} q_1 q_2 \cdots f(x,y) \cdots q_m,
          $$
          so $c \in (f(x,y))$. Therefore either
          $b \in (f(x,y))$ or $c \in (f(x,y))$,
          so $(f(x,y))$ is a prime ideal.
        }
        \item[$\impliedby$]{
          Let $(f(x,y))$ be a prime ideal. Then $(f(x,y)) \neq 0$, so
          $f(x,y) \neq 0$. Let $f(x,y) = ab \in (f(x,y))$.
          Then either $a \in (f(x,y))$ or $b \in (f(x,y))$.

          Suppose $a \in (f(x,y))$. Then
          $a = g(x,y) \cdot f(x,y)$ for some $g(x,y) \in k[x, y]$, so
          $$
          f(x, y) = ab = b \cdot g(x,y) \cdot f(x,y)
          $$
          or
          $$
          f(x, y) \cdot (1 - b \cdot g(x,y)) = 0.
          $$
          But
          $f(x, y) \neq 0$, so $1 - b \cdot g(x,y) = 0$ since $k[x, y]$
          is an integral domain. Therefore $b \cdot g(x,y) = 1$ and so $b$ is a
          unit in $k[x,y]$, i.e. $f(x,y) = ab$ is irreducible.
        }
      \end{itemize}
    }
    \item{
      Note that both $x^2$ and $x^3$ are irreducible in this ring, so
      that the element $x^6 \in C$ can be written
      $$
      x^6 = x^3 \cdot x^3 = x^2 \cdot x^2 \cdot x^2
      $$
      and therefore has non-unique factorizations in
      irreducibles. Indeed, these factorizations contain different
      numbers of irreducible elements. Therefore $C$ cannot be a unique factorization
      domain.
    }
  \end{enumerate}
\end{Answer}

\pagebreak

\begin{Problem}
  Consider the ring $\mathbb{C}[[X]]$ of formal power series with
  coefficients in $\mathbb{C}$ and variable $X$, i.e.
  $$
  A = \mathbb{C}[[X]] =
  \left\{
    \left.
      \sum_{k \in \mathbb{N}} a_k X^k
    = a_0 + a_1 X + a_2 X^2 + \cdots + a_n X^n + \cdots
    \right|
      a_i \in \mathbb{C}
  \right\}.
  $$
  \begin{enumerate}
    \item{
      Show that $f(X) = a_0 + a_1 X + a_2 X^2 + \cdots \in A$ is a
      unit in $A$ if any only if $a_0 \neq 0$.
    }
    \item{
      Show that the ideal $(X)$ generated by $X$ is the unique maximal
      ideal of $A$.
    }
    \item{
      Show that $A$ is a principal ideal domain. Find all the ideals
      of $A$.
    }
  \end{enumerate}
\end{Problem}

\begin{Answer}
  \begin{enumerate}[(a)]
    \item{
      The product of the power series
      $$
      a = \sum_{n=0}^\infty a_n X^n, \quad
      b = \sum_{n=0}^\infty b_n X^n \in \mathbb{C}[[x]]
      $$
      is given by
      $$
      a \cdot b = \sum_{n=0}^\infty(a \cdot b)_n X^n, \quad
      (a \cdot b)_n = \sum_{k=0}^n a_k b_{n-k}.
      $$
      \begin{itemize}
        \item[$\implies$]{
          Suppose $a \cdot b = 1$ for some $b \in
          \mathbb{C}[[x]]$. Then
          \begin{align*}
             1
          &= a \cdot b \\
          &= \sum_{n=0}^\infty \sum_{k=0}^n a_k b_{n-k} X^n \\
          &= a_0 b_0
           + X \sum_{n=1}^\infty \sum_{k=0}^n a_k b_{n-k} X^{n-1},
          \end{align*}
          and since all terms besides $a_0 b_0$ contain $X$ this is
          only possible if $b_0 = a_0^{-1}$, $(a \cdot b)_n = 0$ for
          all $n \geq 1$. Therefore $a_0$ must have a multiplicative
          inverse for this equation to be satisfied, so $a_0 \neq 0$.
        }
        \item[$\impliedby$]{
          Suppose $a_0 \neq 0$. Then $a_0$ has a multiplicative
          inverse in $\mathbb{C}$. Let
          \begin{align*}
            b_0 &= a_0^{-1}, \\
            b_n &= -a_0^{-1} \sum_{k=0}^{n-1} a_{k+1} b_{(n-1)-k}.
          \end{align*}
          and consider the power series $b = \sum_{n=0}^\infty b_n
          X^n$. Then the terms of the product are given by
          \begin{align*}
             (a \cdot b)_0
          &= a_0 a_0^{-1} = 1, \\
             (a \cdot b)_n
          &= a_0 b_n + a_1 b_{n-1} + \cdots + a_{n-1} b_1 + a_n b_0 \\
          &= a_0 b_n + \sum_{k=0}^{n-1} a_{k+1} b_{(n-1)-k} \\
          &= -a_0 a_0^{-1} \sum_{k=0}^{n-1} a_{k+1} b_{(n-1)-k}
           + \sum_{k=0}^{n-1} a_{k+1} b_{(n-1)-k}
           = 0,
          \end{align*}
          and therefore $a \cdot b = 1$.
        }
      \end{itemize}
    }
    \item{
      Note that
      \begin{align*}
         (X)
      &= \left\{ r X \mid r \in A \right\} \\
      &= \left\{
           \left.
             X
             \left(
               \sum_{k \in \mathbb{N}} a_k X^k
             \right)
           \right|
             a_k \in \mathbb{C}
         \right\} \\
      &= \left\{
           \left.
             a_0 X + a_1 X^2 + \cdots + a_n X^{k+1} + \cdots
           \right|
             a_{k} \in \mathbb{C}
         \right\},
      \end{align*}
      which means an $X$ appears in every term of each element of this
      ideal, so after relabeling coefficients
      \begin{align*}
         (X)
      &= \left\{
           \left.
             \sum_{k \in \mathbb{N}} a_k X^k
           \right|
             a_0 = 0
         \right\} \\
      &= A -
         \left\{
           \left.
             \sum_{k \in \mathbb{N}} a_k X^k
           \right|
             a_0 \neq 0
         \right\}.
      \end{align*}
      Therefore, from part (a), $(X) = A - A^\ast$
      and from problem 1(a) this means $(X)$ is the unique maximal
      ideal of $A$.
    }
    \item{
      We show that $A = \mathbb{C}[[x]]$ is an integral domain and that every ideal
      is principal.
      \begin{itemize}
        \item{
          Suppose $a, b \in \mathbb{C}[[x]]$ so that
          $$
          0 = a \cdot b = \sum_{n=0}^\infty \sum_{k=0}^n a_k b_{n-k} X^n.
          $$
          Suppose $a \neq 0$. Then $a_{r_i} \neq 0$ for some
          natural numbers $r_i$. Pick $r_0$ to be the least such number,
          so that $a_{k} = 0$ for $0 \leq k < r_0$.

          Suppose $r_0 = 0$. Then $a_0 \neq 0$, so $a$ is a unit, and
          then $ab = 0$ implies $b = a^{-1} 0 = 0$. Therefore let $r_0
          > 0$.

          Next note
          \begin{align*}
           0 = (ab)_{r_0}
            &= \sum_{k=0}^{r_0} a_k b_{r_0 - k} \\
            &= a_0 b_{r_0}
             + a_1 b_{r_0 - 1}
             + \cdots
             + a_{r_0 - 1} b_1
             + a_{r_0} b_0 \\
            &= a_{r_0} b_0
          \end{align*}
          so that $b_0 = 0$ since $\mathbb{C}$ is a a field and thus
          an integral domain.

          Suppose for some $n > 0$ that $b_k = 0$ for
          $0 \leq k < n-1$. Then
          \begin{align*}
            0 = (ab)_{n + r_0}
             &= \sum_{k=0}^{n + r_0} a_k b_{n + r_0 - k} \\
             &= a_0 b_{n + r_0}
              + a_1 b_{n + r_0 - 1}
              + \cdots
              + a_{r_0} b_n
              + a_{r_0 + 1} b_{n - 1}
              + \cdots
              + a_{n + r_0} b_0 \\
             &= \sum_{k=0}^{r_0 - 1} a_k b_{r_0 - 1 - k}
              + a_{r_0} b_n
              + \sum_{k=1}^{n} a_{r_0 + k} b_{n - k} \\
             &= 0 + a_{r_0} b_n + 0
          \end{align*}
          so that $b_n = 0$ since $\mathbb{C}$ is an integral domain.

          Therefore $a b = 0$ implies $a = 0$ or $b = 0$, so $\mathbb{C}[[x]]$
          is an integral domain.
        }
        \item{
          Certainly any ideal containing a unit is the entire ring
          $A$, so any such ideal $I$ is generated by the unit 1,
          i.e. $I = (1)$. Therefore we consider only ideals that
          lie within $A - A^\ast = (X)$.

          Observe first that for any $m$ we can regard $X^m$ as the
          series
          $$
          X^m = \sum_{k=0}^\infty \chi_k, \quad
          \chi_n = \left\{\begin{array}{c r}
                     1, & \quad n = m \\
                     0, & \quad n \neq m
                   \end{array}\right.
          $$
          and that for any element $a \in A$, the product $X^m a$ coincides with the
          convolution product:
          \begin{align*}
             (X^m a)_n
          &= \sum_{k=0}^n \chi_k a_{n-k} \\
          &= \left\{\begin{array}{c r}
               a_{n-m}, & \quad n \geq m, \\
               0,      & \quad n < m
             \end{array}\right., \\
             X^m \left( \sum_{k=0}^\infty a_n X^k \right)
          &= a_0 X^m
           + a_1 X^{m+1}
           + \cdots
           + a_n X^{m+n}
           + \cdots \\
          &= \sum_{k=0}^{m-1} 0 \cdot X^k + \sum_{k=m}^\infty a_{k-m} X^k.
          \end{align*}

          Let $\| \cdot \| : (X) \to \mathbb{N}$ be the map given by
          $$
            \left\| \sum_{k=1}^\infty a_k X^k \right\|
          = \left\{\begin{array}{c r}
              0,                         & \quad a_k = 0, \forall k \\
              \inf \{
                     k \in \mathbb{Z}_+
                   \mid
                     a_k \neq 0
                   \},                  & \quad \text{otherwise}
            \end{array}\right.
          $$

          Let $a \in (X)$ such that $\|a\| = m$, i.e. $a_m \neq 0$ and
          $a_k = 0$ for $0 \leq k < m$. Then we can write
          \begin{align*}
          a &= \sum_{k=0}^\infty a_k X^k \\
            &= \sum_{k=m}^\infty a_k X^k \\
            &= X^m \left( \sum_{k=0}^\infty a_{k+m} X^k \right) \\
            &= X^m \hat{a},
          \end{align*}
          where $\hat{a}_n = a_{n+m}$ so that $\hat{a}_0 = a_m \neq 0$
          and therefore $\hat{a} \in A^\ast$. Then $a = X^m \hat{a}$
          so $X^m = a \hat{a}^{-1}$.

          Observe that for any $b \in A$, we can write
          \begin{align*}
            b &= \sum_{k=0}^\infty b_k X^k \\
              &= \sum_{k=0}^{m-1} b_k X^k
               + \sum_{k=m}^\infty b_k X^k \\
              &= \sum_{k=0}^{m-1} b_k X^k
               + X^m \sum_{k=0}^\infty b_{k+m} X^k \\
              &= \sum_{k=0}^{m-1} b_k X^k
               + \hat{a}^{-1} a \hat{b},
          \end{align*}
          where $\hat{b}_n = b_{k+m}$. Letting
          $q = a^{-1} \hat{b}$ and
          $$
          r = \sum_{k=0}^{m-1} b_k X^k,
          $$
          we have $a = bq + r$ where $0 \leq \|r\| < m = \|a\|$. Therefore
          $A$ has division in some sense.

          Let $I$ be an ideal of $A = \mathbb{C}[[x]]$ such that
          $I \subset A - A^\ast$ and $I \neq 0$. Then
          $$
          \{ \|a\| \mid a \in I \} - \{ 0 \}
          $$
          is a non-empty subset of $\mathbb{Z}_+$, so it has a
          smallest element $a$. Let $b \in I$, we have $a \neq 0$, so
          $b = aq + r$ for some $q, r \in A$ with $0 \leq \|r\| < \|a\|$.
          Then since $a, b \in I$, $aq \in I$ as well and so
          $b - aq = r \in I$. But $\|a\|$ is minimal by assumption, so
          it must be that $\|r\| = 0$ and thus $r = 0$, so $b = aq$ for some
          $q \in A$. Therefore $b \in (a)$ and since $(a) \subset I$
          this means $I = (a)$. Thus every ideal in $(X)$ is principal.
        }
      \end{itemize}
      Therefore $A$ is a principal ideal domain.

      The ideals of $A$ are as follows:
      \begin{itemize}
        \item{
          $(0) = \{ 0 \}$ and $(1) = A$ are ideals, as always.
        }
        \item{
          $(X^m)$ is an ideal of $A$ for any $m \in \mathbb{N}$. Let
          $a \in (X^m)$, $b \in A$ so that
          \begin{align*}
            a       &= \sum_{k=m}^\infty a_k X^k, \\
            b       &= \sum_{k=0}^\infty b_k X^k, \\
            (a b)_n &= \sum_{k=0}^n a_k b_{n-k} \\
                    &= a_0 b_n
                     + a_1 b_{n-1}
                     + \cdots
                     + a_{m-1} b_{n-(m-1)}
                     + a_m b_{n - m}
                     + \cdots
                     + a_n b_0 \\
                    &= a_m b_{n-m}
                     + a_{m+1} b_{n-(m+1)}
                     + \cdots
                     + a_n b_0 \\
                    &= \sum_{k=m}^n a_k b_{n - k},
          \end{align*}
          which is 0 for $n < m$ and therefore $ab \in (X^m)$.
        }
        \item{
          Suppose $I$ is an ideal of $A$. Since $A$ is a
          PID, we have $A = (a)$ for some $a \in A$. But
          $a = a_0 + a_1X + \cdots + a_nX^n + \cdots$ has
          $a_i \neq 0$ for some $i$, and thus
          $(a) = (X^{\|a\|})$ using the notation defined above.
          Therefore these are the only ideals of $A$.
        }
      \end{itemize}
    }
  \end{enumerate}
\end{Answer}

\pagebreak

\begin{Problem}
  Consider the subset $\mathbb{Z}[i]$ of complex numbers of the form
  $a + bi$, where $a$ and $b$ are both integers.
  \begin{enumerate}[(a)]
    \item{
      Show that $\mathbb{Z}[i]$ is a subring of $\mathbb{C}$.
    }
    \item{
      Show that $\mathbb{Z}[i]$ ``has division,'' i.e. given
      $z = a + bi$, $w = c + di \in \mathbb{Z}[i]$ with $w \neq 0$, we
      can find $q, r \in \mathbb{Z}[i]$ such that $z = wq + r$ and
      with $0 \leq |r| < |w|$.
    }
    \item{
      Use (b) to show that $\mathbb{Z}[i]$ is a principal ideal domain.
    }
  \end{enumerate}
\end{Problem}

\begin{Answer}
  \begin{enumerate}[(a)]
    \item{
      We have that $1 = 1 + 0i, 0 = 0 + 0i \in \mathbb{Z}[i]$.
      Let $x = a + bi$, $y = c + di$. Then
      $$
      x + y = (a + c) + (b + d)i \in \mathbb{Z}[i]
      $$
      and
      $$
      xy = ac + adi + bci - bd = (ac - bd) + (ad + bc)i
        \in \mathbb{Z}[i],
      $$
      so $\mathbb{Z}[i]$ is a subring of $\mathbb{C}$.
    }
    \item{
      Let $z = a + bi, w = c + di \in \mathbb{Z}[i]$.
      Under the usual geometric interpretation of $\mathbb{C}$,
      complex multiplication of the ``vector'' $z$ corresponds
      to rotation by an  angle $\theta = \mathrm{arg}(w)$ and scaling
      by $A = |w|$. In particular, the map $u \mapsto wu$ preserves
      the angle between two vectors $u, v \in \mathbb{C}$. Additionally,
      $|i| = 1$ and  $\mathrm{arg}(i) = \frac{\pi}{2}$ so that $i$ and $1$ are
      orthogonal. Therefore the set
     \begin{align*}
            & \{ w q \mid q \in \mathbb{Z}[i] \} \\
     =      & \{ w (q_R + q_I i) \mid q_R, q_I \in \mathbb{Z} \}
     \end{align*}
     is the square lattice generated by $w$ and $iw$, coordinatized by
     $q$. Therefore we choose $q$ so that $wq$ is the closest lattice
     point to $z$ and let $r = z - wq$. Then the distance from
     $z$ to $wq$, i.e. $|r| = |z - wq|$, is at most
     $\frac{\sqrt{2}}{2}|w|$ (since this is the half the diagonal of
     a $|w| \times |w|$ square), so $0 \leq |r| < |w|$.

%     First observe that complex multiplication by $w$
%     provides a map $\varphi_w : \mathbb{C} \to \mathbb{C}$ given by
%     $$
%     \varphi_w(z) = (c + di)(a + bi) = (ac - bd) + (ad + bc)i
%     $$
%     that corresponds to the linear transformation
%     $T_w : \mathbb{R}^2 \to \mathbb{R}^2$ given by
%     $$
%     \left[\begin{array}{r r}
%       c & -d \\
%       d &  c
%     \end{array}\right]
%     \left[\begin{array}{c}
%       a \\
%       b
%     \end{array}\right]
%     =
%     \left[\begin{array}{c}
%       ac - bd \\
%       ad + bc
%     \end{array}\right]
%     $$
%     Under the
%     bijection $\mathbb{C} \to \mathbb{R}^2$ given by
%     $$
%     1 \mapsto
%     \left[\begin{array}{c}
%       1 \\ 0
%     \end{array}\right], \quad
%     i \mapsto
%     \left[\begin{array}{c}
%       0 \\ 1
%     \end{array}\right],
%     $$
%     we observe that
%     \begin{align*}
%            & \{ w q \mid q \in \mathbb{Z}[i] \} \\
%     =      & \{ w (q_R + q_I i) \mid q_R, q_I \in \mathbb{Z} \} \\
%     \simeq & \left\{ \left.
%                T_w \left(
%                  q_R
%                  \left[\begin{array}{c}
%                    1 \\
%                    0
%                  \end{array}\right]
%                  + q_I
%                  \left[\begin{array}{c}
%                    0 \\
%                    1
%                  \end{array}\right]
%                \right)
%                \right| q_R, q_I \in \mathbb{Z}
%              \right\} \\
%     =      & \left\{ \left.
%                q_R
%                T_w \left(
%                  \left[\begin{array}{c}
%                    1 \\
%                    0
%                  \end{array}\right]
%                \right)
%                + q_I
%                T_w \left(
%                  \left[\begin{array}{c}
%                    0 \\
%                    1
%                  \end{array}\right]
%                \right)
%                \right| q_R, q_I \in \mathbb{Z}
%              \right\} \\
%     =      & \left\{ \left.
%                q_R
%                \left[\begin{array}{c}
%                  c \\
%                  d
%                \end{array}\right]
%                + q_I
%                \left[\begin{array}{r}
%                  -d \\
%                   c
%                \end{array}\right]
%                \right| q_R, q_I \in \mathbb{Z}
%              \right\},
%     \end{align*}
%     where notably
%     $$
%     \left[\begin{array}{r}
%       c \\
%       d
%     \end{array}\right]
%     \bullet
%     \left[\begin{array}{r}
%       -d \\
%        c
%     \end{array}\right]
%     = 0.
%     $$
%     Therefore the vectors
%     $
%     T_w \left(
%       \left[\begin{array}{c}
%         1 \\
%         0
%       \end{array}\right]
%     \right)
%     $,
%     $
%     T_w \left(
%       \left[\begin{array}{c}
%         0 \\
%         1
%       \end{array}\right]
%     \right)
%     $
%     are orthogonal, so the set above is the square lattice spanned by
%     Let $z = a + bi \in \mathbb{Z}[i]$,
%     $w = c + di \in \mathbb{Z}[i] - \{0\}$. Then
%     $a, b, c, d \in \mathbb{Z}$, and since $w \neq 0$ we know
%     $c^2 + d^2 \neq 0$. Therefore Euclidean
%     division of $ac + bd$ by $c^2 + d^2$ yields
%     $$
%     ac + bd = (c^2 + d^2) q_R + r_R
%     $$
%     for some $q_R, r_R \in \mathbb{Z}$, and Euclidean division of
%     $cb - ad$ by $c^2 + d^2$ yields
%     $$
%     cb - ad = (c^2 + d^2) q_I + r_I
%     $$
%     for some $q_I, r_I \in \mathbb{Z}$. Furthermore we have
%     $0 \leq r_R < |c^2 + d^2|$, $0 \leq r_I < |c^2 + d^2|$.
%     We rewrite this system of equations as an equation of
%     integer-valued matrices and observe
%     \begin{align*}
%       \left[\begin{array}{c}
%         ac + bd \\
%         cb - ad
%       \end{array}\right]
%       &=
%       \left[\begin{array}{c c}
%         c^2 + d^2 & 0 \\
%         0         & c^2 + d^2
%       \end{array}\right]
%       \left[\begin{array}{c}
%         q_R \\
%         q_I
%       \end{array}\right]
%       +
%       \left[\begin{array}{c}
%         r_R \\
%         r_I
%       \end{array}\right] \\
%       \left[\begin{array}{r r}
%         c & d \\
%        -d & c
%       \end{array}\right]
%       \left[\begin{array}{c}
%         a \\
%         b
%       \end{array}\right]
%       &=
%       \left[\begin{array}{r r}
%         c & d \\
%        -d & c
%       \end{array}\right]
%       \left[\begin{array}{r r}
%         c & -d \\
%         d &  c
%       \end{array}\right]
%       \left[\begin{array}{c}
%         q_R \\
%         q_I
%       \end{array}\right]
%       +
%       \left[\begin{array}{c}
%         r_R \\
%         r_I
%       \end{array}\right]
%     \end{align*}
%     so that
%     \begin{align*}
%       \left[\begin{array}{c}
%         a \\
%         b
%       \end{array}\right]
%       &=
%       \left[\begin{array}{r r}
%         c & -d \\
%         d &  c
%       \end{array}\right]
%       \left[\begin{array}{c}
%         q_R \\
%         q_I
%       \end{array}\right]
%       +
%       \left[\begin{array}{c}
%         r_R \\
%         r_I
%       \end{array}\right].
%     \end{align*}
%     But this means
%     \begin{align*}
%        z
%      = a + bi
%     &= (cq_R - dq_I + r_R) + (cq_I + dq_R + r_I)i \\
%     &= (cq_R + cq_I i + dq_Ri - dq_I) + (r_R + r_I i) \\
%     &= (c + di)(q_R + q_I i) + (r_R + r_I i) \\
%     &= wq + r
%     \end{align*}
%     for some $q, r \in \mathbb{Z}[i]$ as desired. Therefore
%     $\mathbb{Z}[i]$ has division.
    }
    \item{
      We show that $\mathbb{Z}[i]$ is an integral domain and that
      every ideal is principal.
      \begin{itemize}
        \item{
          Let $z, w \in \mathbb{Z}[i]$ such that
          $zw = 0$. We can write $z = a + bi$ and $w = c + di$ for
          some $a, b, c, d \in \mathbb{Z}$.
          Then $(a + bi)(c + di) = 0$, so multiplying by
          $(a - bi)(c - di)$ we see $(a^2 + b^2)(c^2 + d^2) = 0$.
          Since $\mathbb{Z}$ is an integral domain, this implies
          $a^2 + b^2 = 0$ or $c^2 + d^2 = 0$. But $a^2 + b^2 = |z|^2$,
          and since $z = |z|e^{i \theta}$ for some
          $\theta \in [ 0, 2\pi )$, $a^2 + b^2 = 0$ implies $z = 0$.
          Identically, $c^2 + d^2 = 0$ implies $w = 0$. Therefore
          $\mathbb{Z}[i]$ is an integral domain.
        }
        \item{
          Let $I$ be an ideal in $\mathbb{Z}[i]$ that is not $(0)$, and
          note that
          $$
          \{ |z|^2 \mid z \in I \} - \{ 0 \}
          $$
          is a non-empty subset of $\mathbb{Z}_+$ and therefore has a
          smallest element $a$. Let $b \in I \subset \mathbb{Z}[i]$. Since
          $\mathbb{Z}[i]$ has division, we can write
          $b = aq + r$ for some $q, r \in \mathbb{Z}[i]$ such that
          $0 \leq |r| < |a|$. Then $r = b - aq \in I$ since $a, b \in I$.
          But $|r| < |a|$ implies $|r|^2 < |a|^2$, and by assumption
          $a$ is the nonzero element in $I$ with least square modulus, so
          it must be that $|r|^2 = 0$ whence $r = 0$. Then $b = aq$ for
          some $q \in \mathbb{Z}[i]$, and since $b$ was chosen arbitrarily
          we have $I \subset (a)$ so $I = (a)$. Therefore $\mathbb{Z}[i]$
          is a principal ideal ring.
        }
      \end{itemize}
      Therefore $\mathbb{Z}[i]$ is a principal ideal domain.
    }
  \end{enumerate}
\end{Answer}

\end{document}
